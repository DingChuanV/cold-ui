{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport api from \"@/api\";\nexport default {\n  name: 'Logout',\n  methods: {\n    async logout() {\n      const token = localStorage.getItem('token'); // 获取 token\n      axios.post(await api.getLogout(), null, {\n        headers: {\n          'token': token\n        }\n      }) // 发送 POST 请求到后端的 /logout 路径，并携带 token\n      .then(() => {\n        // 处理成功响应\n        console.log('登出成功');\n        // 清除本地存储中的 token\n        localStorage.removeItem('token');\n        // 跳转到登录页面或其他页面\n        this.$router.push('/login');\n      }).catch(error => {\n        // 处理错误响应\n        console.error('登出失败', error);\n        // 可以根据实际需求进行错误处理\n        alert('登出失败，请稍后重试');\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","api","name","methods","logout","token","localStorage","getItem","post","getLogout","headers","then","console","log","removeItem","$router","push","catch","error","alert"],"sources":["/Users/dingchuan/Documents/Repos/cold-ui/src/components/Logout.vue"],"sourcesContent":["<template>\n  <button class=\"logout-button\" @click=\"logout\">退出登录</button>\n</template>\n\n<script>\nimport axios from 'axios';\nimport api from \"@/api\";\n\nexport default {\n  name: 'Logout',\n  methods: {\n    async logout() {\n      const token = localStorage.getItem('token'); // 获取 token\n      axios.post(await api.getLogout(), null, {headers: {'token': token}})// 发送 POST 请求到后端的 /logout 路径，并携带 token\n          .then(() => {\n            // 处理成功响应\n            console.log('登出成功');\n            // 清除本地存储中的 token\n            localStorage.removeItem('token');\n            // 跳转到登录页面或其他页面\n            this.$router.push('/login');\n          })\n          .catch(error => {\n            // 处理错误响应\n            console.error('登出失败', error);\n            // 可以根据实际需求进行错误处理\n            alert('登出失败，请稍后重试');\n          });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.logout-button {\n  padding: 10px 20px;\n  background-color: #007bff;\n  color: #fff;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  outline: none;\n}\n\n.logout-button:hover {\n  background-color: #0056b3;\n}\n</style>\n"],"mappings":";AAKA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,GAAE,MAAO,OAAO;AAEvB,eAAe;EACbC,IAAI,EAAE,QAAQ;EACdC,OAAO,EAAE;IACP,MAAMC,MAAMA,CAAA,EAAG;MACb,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAE;MAC7CP,KAAK,CAACQ,IAAI,CAAC,MAAMP,GAAG,CAACQ,SAAS,CAAC,CAAC,EAAE,IAAI,EAAE;QAACC,OAAO,EAAE;UAAC,OAAO,EAAEL;QAAK;MAAC,CAAC,CAAC;MAAA,CAC/DM,IAAI,CAAC,MAAM;QACV;QACAC,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;QACnB;QACAP,YAAY,CAACQ,UAAU,CAAC,OAAO,CAAC;QAChC;QACA,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;MAC7B,CAAC,EACAC,KAAK,CAACC,KAAI,IAAK;QACd;QACAN,OAAO,CAACM,KAAK,CAAC,MAAM,EAAEA,KAAK,CAAC;QAC5B;QACAC,KAAK,CAAC,YAAY,CAAC;MACrB,CAAC,CAAC;IACR;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}